<!DOCTYPE html>
<html>

  <head>
    <link href="libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/jquery/jquery.min.js"></script>
    <script src="libs/bootstrap/js/bootstrap.min.js"></script>
    <script src="libs/angularjs/angular.min.js"></script>
     <script src="scripts/dynamicform.js"></script>
  </head>

  <body ng-app="DynamicFormModule" >
  <div ng-controller="DynamicFormController">
    <h3>{{entity.name}}</h3>
 <div ng_show="myForm.formError">Something is wrong with your form. Please check the fields.</div>
 <form name="myForm" class="form-horizontal" role="form" ng-submit="submitForm()" novalidate>
 <div ng-repeat="field in entity.fields">    
  <ng-form name="form">
    <!-- TEXT FIELDS -->
    <div ng-if="field.type=='text'" class="form-group">
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-4">
        <input type="{{ field.type }}" dynamic-name="field.name" id="{{field.name}}" data-ng-model="field.data"  class="form-control" ng-required="{{field.required_validation.required}}" />
         <span  data-ng-show=" {{'(form.'+field.name+'.$dirty || submitted) && form.'+field.name+'.$error.required'}}">{{field.required_validation.message}}</span>
      </div>
    </div>

    <!-- EMAIL FIELDS -->
    <div ng-if="field.type=='email'" class="form-group">
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-4">
        <input type="{{ field.type }}" dynamic-name="field.name" id="{{field.name}}" data-ng-model="field.data" class="form-control" ng-required="{{field.required_validation.required}}" />
         <span data-ng-show=" {{'(form.'+field.name+'.$dirty || submitted) && form.'+field.name+'.$error.required'}}">{{field.required_validation.message}}</span>
         <span data-ng-show=" {{'form.'+field.name+'.$dirty && form.'+field.name+'.$error.email'}}">Not email!</span>
      </div>
    </div>

    <!-- Number FIELDS -->
    <div ng-if="field.type=='number'" class="form-group">
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-4">
        <input type="{{ field.type }}" dynamic-name="field.name" id="{{field.name}}" data-ng-model="field.data" data-min="{{field.min}}" data-max="{{field.max}}" class="form-control" ng-required="{{field.required_validation.required}}" />
         <span data-ng-show=" {{'(form.'+field.name+'.$dirty || submitted) && form.'+field.name+'.$error.required'}}">{{field.required_validation.message}}</span>
         <span data-ng-show=" {{'form.'+field.name+'.$dirty && form.'+field.name+'.$error.min'}}">Too young to register.</span>
         <span data-ng-show=" {{'form.'+field.name+'.$dirty && form.'+field.name+'.$error.max'}}">Too old to register.</span>
      </div>
    </div>

    <!-- PASSWORD FIELDS -->
    <div ng-if="field.type=='password'" class="form-group" >
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-4">
        <input type="{{ field.type }}" dynamic-name="field.name" data-ng-model="field.data" ng-minlength={{field.min}} ng-maxlength={{field.max}} class="form-control" ng-required="{{field.required_validation.required}}" />
         <span data-ng-show=" {{'(form.'+field.name+'.$dirty || submitted) && form.'+field.name+'.$error.required'}}">{{field.required_validation.message}}</span>
         <span data-ng-show=" {{'!form.'+field.name+'.required && (form.'+field.name+'.$error.minlength || form.'+field.name+'.$error.maxlength)' }}">Passwords must be between 8 and 20 characters.</span>
        </div>
    </div>

    <!-- SELECT FIELDS -->
    <div ng-if="field.type=='select'" class="form-group" >
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-4">
        <select data-ng-model="field.data" ng-options="option.name for option in field.options" class="form-control" ng-required="{{field.required_validation.required}}"></select>
        <span data-ng-show=" {{'(form.'+field.name+'.$dirty || submitted) && form.'+field.name+'.$error.required'}}">{{field.required_validation.message}}</span>
      </div>      
    </div>

    <!-- RADIO FIELDS -->
    <div ng-if="field.type=='radio'" class="form-group">
      <label class="col-sm-2 control-label">{{field.label}}</label>
      <div class="col-sm-4">
           
        <div class="checkbox" ng-repeat="option in field.options" >
                  <label>                
            <input type="radio" data-ng-model="field.data"  name="taskGroup"  id="{{option.name}}" value="{{option.id}}">{{option.name}}
          </label>
                </div>
      </div>
    </div>

    <!-- CHECKBOX FIELDS -->
    <div ng-if="field.type=='checkbox'" class="form-group" >
        <label class="col-sm-2 control-label">{{field.label}}</label>
        <div class="col-sm-4">        
            <div class="checkbox" ng-repeat="option in field.options" >
            <label>
                <input type="checkbox" data-ng-model="option.data"  name="taskGroup"  id="Checkbox1" value="{{option.id}}" >{{option.name}}
            </label>
        </div>
      </div>
    </div>

  </ng-form>

 </div>


  <br/>
  <button type="submit" id="submit">Submit</button>
  <br/>
  <pre>{{entity|json}}</pre>
   <br/>
       
 </form>
 </div>
  </body>

</html>